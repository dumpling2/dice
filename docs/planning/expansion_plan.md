# ダイスボット拡張計画: TRPG以外の用途への対応

このドキュメントでは、現在のTRPG向けダイスボットを拡張し、より幅広い用途に対応させるための計画を概説します。

## 現状分析

現在のボットは主にTRPG（テーブルトークロールプレイングゲーム）向けに設計されており、基本的なダイスロール機能を提供しています。しかし、ダイスやランダム性を活用するシーンは多岐にわたります。

## 拡張の方向性

### 1. ボードゲーム向け機能

ボードゲームでは様々な種類のダイスや特殊なロール方法が使用されます。

- **多面体ダイス拡張**
  - カスタムフェイスのダイス（数字以外の記号や効果）
  - 特殊ダイス（Fate/Fudgeダイス、ポーカーダイスなど）
  - 結果の視覚的表示（絵文字やアイコンの使用）

- **ゲーム固有のダイスセット**
  - 人気ボードゲーム向けにプリセットを作成
  - カスタムダイスセットの保存機能
  - ゲーム状況に応じたダイスロール機能

### 2. 一般的なゲーム補助ツール

- **ランダム選択機能**
  - リストからランダムに項目を選択
  - 重み付きランダム選択
  - 複数項目の同時選択

- **タイマー/カウントダウン**
  - 設定可能なタイマー
  - ターン管理
  - 残り時間通知

- **チーム分け/グループ分け**
  - メンバーの自動振り分け
  - バランスの取れたチーム作成
  - ランダムな役割割り当て

### 3. イベント企画向け機能

- **抽選機能**
  - 参加者リストからの抽選
  - 複数賞品の抽選
  - 重複なし抽選

- **アイスブレイク機能**
  - ランダムな質問生成
  - トピック提案
  - 小ゲーム提案

- **参加者管理**
  - 参加表明の受付
  - リマインダー送信
  - 出欠管理

## 技術的実装計画

### フェーズ1: 基本機能拡張（1-2週間）

- ダイスエンジンの拡張
  - カスタムフェイス対応
  - 特殊ダイス型の追加
  - ダイスプール機能の強化

- コマンド体系の整理
  - 用途別コマンドグループの設計
  - ヘルプシステムの拡充
  - コマンド検索機能

### フェーズ2: 新機能実装（2-3週間）

- ランダム選択モジュールの実装
- タイマー/カウントダウン機能の実装
- チーム分け機能の実装
- 抽選システムの実装

### フェーズ3: UI/UX改善（1-2週間）

- 結果表示の視覚的強化
- インタラクティブコンポーネントの拡充
- モバイル表示の最適化
- ヘルプシステムの充実

### フェーズ4: データ永続化と設定（1-2週間）

- ユーザー設定の保存
- カスタムプリセットの管理
- サーバー固有設定の実装
- バックアップと復元機能

## モジュール構造の更新

```
dice/
├── src/
│   ├── dice/               # 拡張されたダイスエンジン
│   │   ├── custom_dice.py  # カスタムダイス実装
│   │   ├── special_dice.py # 特殊ダイス実装
│   │   └── dice_pool.py    # ダイスプール実装
│   ├── randomizers/        # ランダム選択モジュール
│   │   ├── selector.py     # 選択機能
│   │   ├── lottery.py      # 抽選機能
│   │   └── team_maker.py   # チーム分け
│   ├── timers/             # タイマー機能
│   │   ├── countdown.py    # カウントダウン
│   │   └── turn_tracker.py # ターン管理
│   ├── events/             # イベント機能
│   │   ├── icebreaker.py   # アイスブレイク
│   │   └── participant.py  # 参加者管理
│   └── persistence/        # データ永続化
│       ├── user_settings.py # ユーザー設定
│       └── presets.py       # プリセット管理
```

## UIの改善計画

- **視覚的フィードバック**
  - ダイスのアニメーション表現（絵文字や画像）
  - 結果のカラーコーディング
  - プログレスバーや視覚効果

- **インタラクション改善**
  - ドロップダウンメニュー
  - ボタンパネル
  - モーダルフォーム

## 新コマンド一覧（案）

### ダイス関連
- `/roll` - 従来のダイスロール（拡張機能付き）
- `/custom_dice` - カスタムダイス作成と保存
- `/dice_set` - 特定ゲーム用のダイスセット呼び出し

### ランダマイザー
- `/choose` - リストからランダム選択
- `/teams` - チーム分け
- `/shuffle` - リストのシャッフル

### イベント
- `/lottery` - 抽選実行
- `/icebreaker` - アイスブレイクの提案
- `/timer` - タイマー設定と開始

### 設定
- `/presets` - 保存された設定の管理
- `/settings` - ユーザー設定

## 今後の展望

- **ボット連携** - 他のDiscordボットとの連携
- **APIインテグレーション** - 外部ゲームAPIとの連携
- **ウェブダッシュボード** - 詳細設定のためのウェブインターフェース
- **多言語対応** - 国際的なユーザー向けの言語設定

## まとめ

この拡張計画を実施することで、ダイスボットはTRPGのみならず、様々なボードゲーム、カジュアルゲーム、イベント運営などにも活用できる汎用的なツールへと進化します。モジュール化された設計アプローチにより、機能を段階的に追加しながら、既存の機能との互換性を保つことができます。 